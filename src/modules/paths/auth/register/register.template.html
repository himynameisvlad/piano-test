<form [formGroup]="registerForm" (ngSubmit)="register()">
    <p
        class="bg-danger pl-10 pt-10 pb-10 mt-20"
        *ngIf="registrationFailedErrorMsg">{{ registrationFailedErrorMsg }}</p>

    <div 
        class="form-group"
        [class.has-error]="!isFormControlValid(registerForm, formControlsNames.REGISTER_EMAIL_CONTROL)">
        <label for="input-email">Enter your email</label>
        <input
            [formControlName]="formControlsNames.REGISTER_EMAIL_CONTROL"
            type="email"
            class="form-control"
            id="input-email"
            placeholder="Email">
        
        <ng-container *ngIf="!isFormControlValid(registerForm, formControlsNames.REGISTER_EMAIL_CONTROL)">
            <p
                class="bg-danger pl-10 pt-5 pb-5 mt-10"
                *ngIf="controls[formControlsNames.REGISTER_EMAIL_CONTROL].errors.required">Email is required</p>
            <p
                class="bg-danger pl-10 pt-5 pb-5 mt-10"
                *ngIf="controls[formControlsNames.REGISTER_EMAIL_CONTROL].errors.email">Enter a valid email</p>
        </ng-container>
    </div>

    <div
        class="form-group"
        [class.has-error]="!isFormControlValid(registerForm, formControlsNames.REGISTER_PASSWORD_CONTROL)">
        <label for="input-password">Enter password</label>
        <input
            [formControlName]="formControlsNames.REGISTER_PASSWORD_CONTROL"
            type="password"
            class="form-control"
            id="input-password"
            placeholder="Password">

        <ng-container *ngIf="!isFormControlValid(registerForm, formControlsNames.REGISTER_PASSWORD_CONTROL)">
            <p
                class="bg-danger pl-10 pt-5 pb-5 mt-10"
                *ngIf="controls[formControlsNames.REGISTER_PASSWORD_CONTROL].errors.required">Password is required</p>
        </ng-container>
    </div>

    <div
        class="form-group"
        [class.has-error]="!isFormControlValid(registerForm, formControlsNames.REGISTER_SECRET_CONTROL)">
        <label for="input-secret-word">Enter secret word to restore password</label>
        <input
            [formControlName]="formControlsNames.REGISTER_SECRET_CONTROL"
            type="text"
            class="form-control"
            id="input-secret-word"
            placeholder="Secret word">

        <ng-container *ngIf="!isFormControlValid(registerForm, formControlsNames.REGISTER_SECRET_CONTROL)">
            <p
                class="bg-danger pl-10 pt-5 pb-5 mt-10"
                *ngIf="controls[formControlsNames.REGISTER_SECRET_CONTROL].errors.required">Secret word is required</p>
        </ng-container>
    </div>

    <button
        [disabled]="registerForm.invalid || isLoading"
        type="submit"
        class="btn btn-primary btn-lg btn-block">Register</button>
</form>

<div class="mt-10">
    Have an account? <button type="button" class="btn btn-link" (click)="goToLogin()">Log In</button>
</div>
