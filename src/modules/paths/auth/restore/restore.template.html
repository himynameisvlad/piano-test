<form [formGroup]="restoreForm" (ngSubmit)="restore()" *ngIf="!isRestoreSuccessed; else restoreSuccedMsg">
    <p
        class="bg-danger pl-10 pt-10 pb-10 mt-10"
        *ngIf="restoreFailedErrorMsg">{{ restoreFailedErrorMsg }}</p>

    <div class="form-group">
        <label for="input-email">Enter your email address</label>
        <input
            [formControlName]="formControlsNames.RESTORE_EMAIL_CONTROL"
            type="email"
            class="form-control"
            id="input-email"
            placeholder="Email">

        <ng-container *ngIf="!isFormControlValid(restoreForm, formControlsNames.RESTORE_EMAIL_CONTROL)">
            <p
                class="bg-danger pl-10 pt-5 pb-5 mt-10"
                *ngIf="controls[formControlsNames.RESTORE_EMAIL_CONTROL].errors.required">Email is required</p>
            <p
                class="bg-danger pl-10 pt-5 pb-5 mt-10"
                *ngIf="controls[formControlsNames.RESTORE_EMAIL_CONTROL].errors.email">Enter a valid email</p>
        </ng-container>
    </div>

    <div class="form-group">
        <label for="input-secret-word">Enter your secret word</label>
        <input
            [formControlName]="formControlsNames.RESTORE_SECRET_CONTROL"
            type="text"
            class="form-control"
            id="input-secret-word"
            placeholder="Secret word">
    
        <ng-container *ngIf="!isFormControlValid(restoreForm, formControlsNames.RESTORE_SECRET_CONTROL)">
            <p
                class="bg-danger pl-10 pt-5 pb-5 mt-10"
                *ngIf="controls[formControlsNames.REGISTER_SECRET_CONTROL].errors.required">Secret word is required</p>
        </ng-container>
    </div>

    <button
        [disabled]="restoreForm.invalid || isLoading"
        type="submit" 
        class="btn btn-primary btn-lg btn-block">Restore</button>
</form>

<div class="mt-10">
    <button type="button" class="btn btn-link" (click)="goToLogin()">Back to Log In</button>
</div>

<ng-template #restoreSuccedMsg>
    <p class="bg-success pl-10 pt-10 pb-10 mt-5">
        We sent you a password reset link.<br>
        Please check your email
    </p>
</ng-template>
    